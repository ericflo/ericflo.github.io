
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Inheritance vs. Composition - Eric Florenzano's Blog</title>
  <meta name="author" content="Eric Florenzano">

  
  <meta name="description" content="Lately there&#8217;s been a lot of discussion in certain programming communities about which method of object extension makes more sense: inheritance &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ericflo.github.com/blog/2008/05/04/inheritance-vs-composition">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Eric Florenzano's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1959803-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Eric Florenzano's Blog</a></h1>
  
    <h2>I am me.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ericflo.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Inheritance vs. Composition</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-04T16:12:38-07:00" pubdate data-updated="true">May 4<span>th</span>, 2008</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Lately there&#8217;s been a lot of discussion in certain programming communities about which method of object extension makes more sense: inheritance, or composition.  Most of the time these discussions turn into debates, and when that happens developers tend to &quot;take sides&quot;&#8211;often moving towards extremist positions on the issue.  I&#8217;ve been sort of quietly thinking about it all lately, trying to determine which use case warrants which approach.  Here I show examples of both, explore some properties and consequences of both composition and inheritance, and finally talk about my own preferences.</p>
<div class="section" id="examples-of-composition-and-inheritance">
<h2>Examples of Composition and Inheritance</h2>
<p>Before talking about the consequences of inheritance vs. composition, some simple examples of both are needed.  Here&#8217;s a simplistic example of object composition (using Python, of course, as our demonstration language):</p>
<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">class</span> <span class="nc">UserDetails</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class="line">    <span class="n">email</span> <span class="o">=</span> <span class="s">&quot;floguy@gmail.com&quot;</span>
</span><span class="line">    <span class="n">homepage</span> <span class="o">=</span> <span class="s">&quot;http://www.eflorenzano.com&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class="line">    <span class="n">first_name</span> <span class="o">=</span> <span class="s">&quot;Eric&quot;</span>
</span><span class="line">    <span class="n">last_name</span> <span class="o">=</span> <span class="s">&quot;Florenzano&quot;</span>
</span><span class="line">    <span class="n">details</span> <span class="o">=</span> <span class="n">UserDetails</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure><p>Obviously these are not very useful classes, but the essential point is that we have created a namespace for each User object, &quot;details&quot;, which contains the extra information about that particular user.</p>
<p>An example of the same objects, modified to use object inheritance might look as follows:</p>
<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class="line">    <span class="n">first_name</span> <span class="o">=</span> <span class="s">&quot;Eric&quot;</span>
</span><span class="line">    <span class="n">last_name</span> <span class="o">=</span> <span class="s">&quot;Florenzano&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">class</span> <span class="nc">UserDetails</span><span class="p">(</span><span class="n">User</span><span class="p">):</span>
</span><span class="line">    <span class="n">email</span> <span class="o">=</span> <span class="s">&quot;floguy@gmail.com&quot;</span>
</span><span class="line">    <span class="n">homepage</span> <span class="o">=</span> <span class="s">&quot;http://www.eflorenzano.com&quot;</span>
</span></code></pre></td></tr></table></div></figure><p>Now we have a flat namespace, which contains all of the attributes from both of the objects.  In the case of any collisions, Python will take the attribute from UserDetails.</p>
</div>
<div class="section" id="consequences">
<h2>Consequences</h2>
<p>From a pure programming language complexity standpoint, object composition is the simpler of the two methods.  In fact, the word &quot;object&quot; may not even apply here, as it&#8217;s possible to achieve this type of composition using structs in C, which are clearly not objects in the sense that we think of them today.</p>
<p>Another immediate thing to notice is that with composition, there&#8217;s no possibility of namespace clashes.  There&#8217;s no need to determine which attribute should &quot;win&quot;, between the object and the composed object, as each attribute remains readily available.</p>
<p>The composed object, more often than not, has no knowledge about its containing class, so it can completely encapsulate its particular functionality.  This also means that it cannot make any assumptions about its containing class, and the entire scheme can be considered less brittle.  Change an attribute or method on <tt class="docutils literal">User</tt>? That&#8217;s fine, since <tt class="docutils literal">UserDetails</tt> doesn&#8217;t know or care about <tt class="docutils literal">User</tt> at all.</p>
<p>That being said, object inheritance is arguably more straightforward.  After all, an e-mail address isn&#8217;t a logical property of some real-world object called a &quot;UserDetails&quot;.  No&#8211;it&#8217;s a property of a user&#8211;so it makes more sense to make it an attribute on our virtual equivalent, the <tt class="docutils literal">User</tt> class.</p>
<p>Object inheritance is also a more commonly-understood idea.  Asking a typical developer about object composition will most likely result in some mumbling and deflection, whereas the same question about object inheritance will probably reveal a whole host of opinions and experience.  That&#8217;s not to say that composition is some sort of dark art, but simply that it&#8217;s less commonly talked about in so many words.</p>
<p>As more of a sidenote than anything else, inheritance can be speedier in some compiled languages due to some compile-time optimizations vs. the dynamic lookup that composition requires.  Of course, in Java you can&#8217;t escape the dynamic method lookup, and in Python it&#8217;s all a moot point.</p>
</div>
<div class="section" id="my-preferences">
<h2>My Preferences</h2>
<p>In general, I find object composition to be desirable.  I&#8217;ve seen too many projects get incredibly (and unnecessarily) confusing due to complicated inheritance hierarchies.  However, there are some cases where inheritance simply makes more sense logically and programmatically.  These are typically the cases where an object has been broken into so many subcomponents that it doesn&#8217;t make sense any more as an object itself.</p>
<p>The <a class="reference external" href="http://www.djangoproject.com/">Django</a> web framework has an interesting way of dealing with model inheritance, and I think that more projects should follow its example.  It uses composition behind the scenes, and then flattens the namespace according to typical inheritance rules.  However, that composition still exists under the covers, so that that method may be used instead.</p>
<p>The answer is not going to be &quot;composition always&quot; or &quot;inheritance always&quot; or even any combination of the two, &quot;always&quot;.  Each has its own drawbacks and advantages and those should be considered before choosing an approach.  More research needs to be done on the hybrid approaches, as well, because things like what Django is doing will provide more answers to more people than traditional approaches.  Cheers to continued thought about these problems and to challenging conventional thought!</p>
</div></div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Eric Florenzano</span></span>

      








  


<time datetime="2008-05-04T16:12:38-07:00" pubdate data-updated="true">May 4<span>th</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/django/'>Django</a>, <a class='category' href='/blog/categories/java/'>Java</a>, <a class='category' href='/blog/categories/object-oriented-programming/'>Object Oriented Programming</a>, <a class='category' href='/blog/categories/programming/'>Programming</a>, <a class='category' href='/blog/categories/python/'>Python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://ericflo.github.com/blog/2008/05/04/inheritance-vs-composition/" data-via="ericflo" data-counturl="http://ericflo.github.com/blog/2008/05/04/inheritance-vs-composition/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2008/04/17/learning-design/" title="Previous Post: Learning Design">&laquo; Learning Design</a>
      
      
        <a class="basic-alignment right" href="/blog/2008/05/06/my-awesome-regex-snippet/" title="next Post: My Awesome Regex Snippet">My Awesome Regex Snippet &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/02/16/technology-behind-convore/">The Technology Behind Convore</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/10/10/object-lesson-how-respond-criticism/">An Object Lesson in How to Respond to Criticism</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/09/27/why-node-disappoints-me/">Why node.js disappoints me</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/20/we-need-new-word-open/">We need a new word for "Open"</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/02/08/how-do-we-kick-our-synchronous-addiction/">How do we kick our synchronous addiction?</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("ericflo", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/ericflo" class="twitter-follow-button" data-show-count="false">Follow @ericflo</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/109591387819364984777?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Eric Florenzano -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
